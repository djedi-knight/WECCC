<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Stormpath Node SDK Class: Application</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Stormpath Node SDK</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-stormpath.html">stormpath</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="Account.html">Account</a></li><li><a href="AccountStoreMapping.html">AccountStoreMapping</a></li><li><a href="ApiKey.html">ApiKey</a></li><li><a href="Application.html">Application</a></li><li><a href="ApplicationAccountStoreMapping.html">ApplicationAccountStoreMapping</a></li><li><a href="AuthenticationResult.html">AuthenticationResult</a></li><li><a href="Cache.html">Cache</a></li><li><a href="CacheEntry.html">CacheEntry</a></li><li><a href="CacheManager.html">CacheManager</a></li><li><a href="CacheStats.html">CacheStats</a></li><li><a href="Client.html">Client</a></li><li><a href="CollectionResource.html">CollectionResource</a></li><li><a href="DataStore.html">DataStore</a></li><li><a href="Directory.html">Directory</a></li><li><a href="DirectoryChildResource.html">DirectoryChildResource</a></li><li><a href="InstanceResource.html">InstanceResource</a></li><li><a href="JwtAuthenticationResult.html">JwtAuthenticationResult</a></li><li><a href="MemcachedStore.html">MemcachedStore</a></li><li><a href="OAuthClientCredentialsAuthenticationResult.html">OAuthClientCredentialsAuthenticationResult</a></li><li><a href="OAuthPasswordGrantAuthenticationResult.html">OAuthPasswordGrantAuthenticationResult</a></li><li><a href="OAuthPasswordGrantRequestAuthenticator.html">OAuthPasswordGrantRequestAuthenticator</a></li><li><a href="OAuthPolicy.html">OAuthPolicy</a></li><li><a href="ObjectCallProxy.html">ObjectCallProxy</a></li><li><a href="OrganizationAccountStoreMapping.html">OrganizationAccountStoreMapping</a></li><li><a href="PasswordResetToken.html">PasswordResetToken</a></li><li><a href="RedisStore.html">RedisStore</a></li><li><a href="RequestExecutor.html">RequestExecutor</a></li><li><a href="SamlPolicy.html">SamlPolicy</a></li><li><a href="SamlServiceProvider.html">SamlServiceProvider</a></li><li><a href="Tenant.html">Tenant</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#createResource">createResource</a></li><li><a href="global.html#defaults">defaults</a></li><li><a href="global.html#getAuthenticator">getAuthenticator</a></li><li><a href="global.html#getResource">getResource</a></li><li><a href="global.html#instantiate">instantiate</a></li><li><a href="global.html#isAssignableFrom">isAssignableFrom</a></li><li><a href="global.html#resolveArgs">resolveArgs</a></li><li><a href="global.html#valueOf">valueOf</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: Application</h1>
<section>

<header>
    
        <h2>
        Application
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="Application"><span class="type-signature"></span>new Application(applicationData)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>This object encapsulates a Stormpath Application object, and provides methods
for working with the Application.</p>
<p>An Application resource in Stormpath contains information about any
real-world software that communicates with Stormpath via REST APIs. You
control who may log in to an application by assigning (or ‘mapping’) one or
more Directory, Group, or Organization resources (generically called Account
Stores) to an Application resource. The Accounts in these associated Account
Stores collectively form the application’s user base.</p>
<p>Typically you do not need to manually construct an Application object.
Rather, you will obtain an Application from methods such as
<a href="Client.html#getApplication">Client.getApplication()</a>.</p>
<p>For more information about the Application resource, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#application">REST API Reference: Application</a>.</p>
<p>For more information about how authorization works, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/005_auth_n.html">Authenticating Accounts with Stormpath</a>.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>applicationData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The raw JSON data of the Application resource, as retrieved from the Stormpath
REST API.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="InstanceResource.html">InstanceResource</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="authenticateAccount"><span class="type-signature"></span>authenticateAccount(authenticationRequest, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Attempt to authenticate an account, using username/email and password. Use
this method to assert that the supplied password is the correct password for
an account.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>authenticationRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Authentication request object, can only be used for username and password authentication.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The username, or email address, of an <a href="Account.html">Account</a> that exists in a <a href="Directory.html">Directory</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The password for the account.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function, called with (err, <a href="AuthenticationResult.html">authenticationResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var authenticationRequest = {
  username: &#x27;user@example.com&#x27;, // Can be username or email address of account.
  password: &#x27;RawPassw0rd!&#x27;
};

application.authenticateAccount(authenticationRequest, function(err, result) {
  // If successful, the result will have an account field with the successfully authenticated account:
  result.getAccount(function(err, account) {
    console.log(account);
  });
};</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="authenticateApiRequest"><span class="type-signature"></span>authenticateApiRequest(options, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>This method allows you to issue API-Key based Access Tokens and perform API
Key authentication for your users, as described in
<a href="http://docs.stormpath.com/guides/api-key-management/">Using Stormpath for API Authentication</a>.</p>
<p><strong>NOTE</strong>: The OAuth flow that this method supports is the Client
Credentials workflow, which requires the <a href="Account.html">Account</a> to have an
<a href="ApiKey.html">ApiKey</a>. The issued access tokens are stateless and cannot be
revoked. If you want to issue revoke-able Access Tokens and Refresh Tokens,
please use the <a href="OAuthPasswordGrantRequestAuthenticator.html">OAuthPasswordGrantRequestAuthenticator</a> to create
password-based tokens.</p>
<p><strong>Issuing Access tokens</strong></p>
<p>To issue Access tokens, the user must supply their <a href="ApiKey.html">ApiKey</a> in the
Authorization header, as HTTP Basic format, and the POST body must define
the <code>client_credentials</code> grant type. The user may also provide the scope that
they desire. For example, the request may look like this:</p>
<pre class="prettyprint source"><code>Authorization: Basic &lt;Base64 Encoded api_key_id:api_key_secret>

grant_type=client_credentials
scope=scope-I-want</code></pre><p>This method will process the request and create an access token, if the API
key and secret is valid, and if the account is reachable by this application
and the account is not disabled. You may optionally define a <code>scopeFactory</code>
to determine if the scope should be issued. An example of how to issue
access tokens is provided below.</p>
<p><strong>Authenticating Access tokens</strong></p>
<p>If the user has been issued an access token, they can use it to authenticate
requests by providing it in the <code>Authorization</code> header of the request, with
this format:</p>
<pre class="prettyprint source"><code>Authorization: Bearer &lt;access_token></code></pre><p>If the token is not expired and the account is still enabled, this method
will produce an <a href="OAuthClientCredentialsAuthenticationResult.html">OAuthClientCredentialsAuthenticationResult</a>.
Otherwise you will receive an authentication error, and you should not allow
the user to access the protected resource.</p>
<p>This method will not make authorization decisions, based on the scope of the
token, this must be done by your application. Please see the example below.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The data for this request, the <code>request</code> property must be supplied.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>An <a href="http://expressjs.com/en/api.html#req">Express-like request object</a>, that
must have the following properties:</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The url of the request, including query parameters.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The method of the request, GET or POST depending on the type of request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>An object that contains the headers of the request, so that we can read the
<code>Authorization</code> header.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>An object that has the posted form body, this is required when requesting
an access token.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>grant_type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>Must be <code>client_credentials</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The username or email address of the <a href="Account.html">Account</a> that is requesting an
access token.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The password of the <a href="Account.html">Account</a> that is requesting an access token.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scopeFactory</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A function that can define custom scope for the access token. When a user
is requesting an access token, we will call this function and you can tell us
what scope to add to the token. The function will be called with the
parameters <code>(account, requestedScope, callback)</code>. The <code>requestedScope</code> is
the value of the <code>scope</code> field from the user's POST, and the <code>callback</code>
should be called with the parameters <code>(err, grantedScope)</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ttl</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The lifetime of the Access Tokens that are created by this method, in
seconds. Default is 3600 (one hour) if not specified.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The callback to call with the the authentication result, will be called with
the parameters (err, <a href="OAuthClientCredentialsAuthenticationResult.html">OAuthClientCredentialsAuthenticationResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
    <pre class="sunlight-highlight-javascript">// This is how you would require HTTP Basic or Access Token authentication, for a route:
app.get(&#x27;/protected/resource&#x27;, function(req, res) {
  application.authenticateApiRequest({ request: req }, function(err, authResult) {
    authResult.getAccount(function(err, account) {
      if (err) {
        return res.status(err.status).json(err);
      }

      var message = &#x27;Hello, &#x27; + account.username + &#x27;! Thanks for authenticating.&#x27;;

      if (authResult.grantedScopes) {
        message += &#x27; You have been granted: &#x27; + authResult.grantedScopes.join(&#x27; &#x27;);
      }

      res.json({ message: message });
    });
  });
});</pre>

    <pre class="sunlight-highlight-javascript">// This is how you would implement the token endpoint in your application:
app.post(&#x27;/oauth/token&#x27;, function(req, res) {
  application.authenticateApiRequest({
    request: req,
    scopeFactory: function(account, requestedScopes, callback) {
      // Determine what scope to give, then provide the granted scope to the callback.
      callback(null, &#x27;granted-scope&#x27;);
    }
  }, function(err, authResult) {
    if (err) {
      res.status(err.status).json(err);
    } else {
      res.json(authResult.tokenResponse);
    }
  });
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createAccount"><span class="type-signature"></span>createAccount(accountData, <span class="optional">getResourceOptions</span>)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates an <a href="Account.html">Account</a> in the application's default account store.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>accountData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The data for the new account object.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>customData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Custom key/value data that you wish to store in this user's custom data
resource.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's email address.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>givenName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's first name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>middleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's middle name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's desired password, must meet password strength requirements of the
default account store.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>surname</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's last name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    UNVERIFIED|ENABLED
                
                </td>
            

            <td class="description last"><p>Sets the status flag of the account, one of <code>ENABLED</code>, <code>DISABLED</code>,
<code>UNVERIFIED</code>. If not specified, will default to <code>UNVERIFIED</code> if email
verification is enabled on the default account store. Otherwise the default
is <code>ENABLED</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's desired username.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getResourceOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#GetResourceOptions">GetResourceOptions</a></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query options for the request.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var account = {
  givenName: &#x27;Foo&#x27;,
  surname: &#x27;Bar&#x27;,
  username: &#x27;foolmeonce&#x27;,
  email: &#x27;foo@example.com&#x27;,
  password: &#x27;Changeme1!&#x27;
};

application.createAccount(account, function(err, createdAccount) {
  console.log(createdAccount);
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createGroup"><span class="type-signature"></span>createGroup(group, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a group within the default group store of the Application. If the
application does not have a default group store, this will error.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Group</span>



            
            </td>

            

            

            <td class="description last"><p>New group definition.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the operation is complete. Will be called with the
parameters (err, Group).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var group = {
  name: &#x27;New Users&#x27;
};

application.createGroup(group, function (err, group) {
  if (!err) {
    console.log(&#x27;Group Created!&#x27;);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createIdSiteUrl"><span class="type-signature"></span>createIdSiteUrl(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a URL which will redirect a user to your ID Site. The URL will look
like <code>https://api.stormpath.com/v1/sso?jwtRequest=&lt;token&gt;</code>. Once the URL
is created, you should issue a 302 redirect to this URL. The <code>/sso</code>
endpoint will consume the request, and then redirect the user to your ID
Site application. This entire process happens over HTTPS and all the JWTs
are signed with secret keys for security.</p>
<p>When the user returns from ID Site, you will handle the response with
<a href="Application.html#handleIdSiteCallback">Application.handleIdSiteCallback()</a>.</p>
<p>For more information, please see
<a href="http://docs.stormpath.com/guides/using-id-site/">Using Stormpath's ID Site to Host your User Management UI</a>.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>ID Site redirect options.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callbackUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p><strong>REQUIRED</strong>. The fully-qualified location where the user should be sent
after they authenticate on the ID Site application, e.g.
<code>https://www.example.com/dashboard</code>. For security reasons, this URL must be
registered as an authorized callback URI in your ID Site configuration. This
can be managed via the REAT API or the Stormpath Admin Console.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>



            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, the user will be logged out of their session and immediately
redirected to the sepcified <code>callbackUri</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>organizationNameKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p><em>Multi-tenancy option.</em></p>
<p>The organization name key to auto-fill in the
Organization field on ID Site. This value will be fixed and the user cannot change it.
Use this if you already know which Organization the user will be logging into.</p>
<p>If there is no organization with that name key, or the organization is not
mapped to the current Stormpath Application, an error will be returned to the
callback URI.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>showOrganizationField</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p><em>Multi-tenancy option.</em></p>
<p>If <code>true</code>, show the organization field on ID Site, so that the user must
provide the name key of the organization that they wish to log into.</p>
<p>If <code>false</code>, and <code>organizationNameKey</code> is defined, then the Organization field
will be hidden but the authentcation attempt will still be targeted at the
specified organization.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Custom string that can be used to carry state through the request. This
state property will be available in the JWT payload on ID Site, and in the
JWT that is provided to your callback URI.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useSubDomain</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Use the provided <code>organizationNameKey</code> as the domain prefix for the ID Site
URL. For example, if <code>organizationNameKey</code> is org-a and your ID Site URL
is <code>https://id.example.com</code> then the user will be redirected to
<code>https://org-a.id.example.com</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>The URL to redirect the user to.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span>delete(callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Deletes this resource from the API.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the delete operation is complete. Will be called
with the parameter (err).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">Inherited From:</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="InstanceResource.html#delete">InstanceResource#delete</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/InstanceResource.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getAccount"><span class="type-signature"></span>getAccount(providerAccountRequest, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Use this function to get an account from a provider directory (Google,
Facebook). If you need to fetch a standard account object, please use one of
<a href="Client.html#getAccount">Client.getAccount(<em>href</em>)</a>,
<a href="Application.html#getAccounts">Application.getAccounts(<em>query</em>)</a>,
Directory.getAccounts(<em>query</em>), or
<a href="Client.html#getAccounts">Client.getAccounts(<em>query</em>)</a>.</p>
<p>To use this method, you need to do the following:</p>
<ul>
<li><p>Create an application with the provider, and connect it with a Stormpath
Directory. For instructions, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/auth_n.html#how-social-authentication-works">How Social Authentication Works</a>.</p>
</li>
<li><p>Prompt the user to authenticate with the provider, via your provider
application (e.g. Facebook application consent screen, Google+ login).</p>
</li>
<li><p>Collect the access token or code that is returned after the user provides
consent to your application.</p>
</li>
</ul>
<p>Use this method any time you need to register or authenticate a user via
a third-party provider. If the user is new, the mirrored acount object will
be created in your Stormpath Directory and the result will have a <code>created</code>
property that indicates this context.  If the user was already mirrored,
the account object is simply returned.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerAccountRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>An object which enumerates the provider store and the access token or code
that was obtained by the provider. Some providers use access tokens, while
others use codes. Only specify one or the other.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The providerId of the directory, e.g. <code>github</code>, <code>google</code>, <code>facebook</code>,
<code>linkedin</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The access token that was obtained from the provider.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>code</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The access code that was obtained from the provider.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function to call with parameters (<code>err</code>, <a href="global.html#ProviderAccountResult">ProviderAccountResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var providerAccountRequest = {
  providerData: {
    providerId: &#x27;facebook&#x27;,
    accessToken: &#x27;abc1235&#x27;
  }
};

application.getAccount(providerAccountRequest, function(err, providerAccountResult) {
  if (providerAccountResult.created) {
    console.log(&#x27;This user was newly created in the directory.&#x27;);
  }

  console.log(providerAccountResult.account);
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getAccounts"><span class="type-signature"></span>getAccounts(collectionQueryOptions, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the account's collection for this Application, which is a list of all
accounts in all account stores that are mapped to this application.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collectionQueryOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#CollectionQueryOptions">CollectionQueryOptions</a></span>



            
            </td>

            

            

            <td class="description last"><p>Options for querying, paginating, and expanding the collection. This collection
supports filter searches and the following attribute searches:
<code>createdAt</code>, <code>email</code>, <code>givenName</code>, <code>middleName</code>, <code>modifiedAt</code>, <code>surname</code>,
<code>status</code>, <code>username</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the operation is complete. Will be called
with the parameters (err, <a href="CollectionResource.html">CollectionResource</a>). The collection will
be a list of <a href="Account.html">Account</a> objects.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var query = {
  givenName: &#x27;foo&#x27;
};

application.getAccounts(query, function(err, collection) {
  collection.each(function(account, next) {
    console.log(&#x27;Found account for &#x27; + account.givenName + &#x27; (&#x27; + account.email + &#x27;)&#x27;);
    next();
  });
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getAccountStoreMappings"><span class="type-signature"></span>getAccountStoreMappings(<span class="optional">collectionQueryOptions</span>, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves the list of <a href="ApplicationAccountStoreMapping.html">Application Account Store Mappings</a> for this application.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collectionQueryOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#CollectionQueryOptions">CollectionQueryOptions</a></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options for querying, paginating, and expanding the collection. This collection
does not support attribute or filter searches.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The function to call when the operation is complete.  Will be called
with the parameters (err, <a href="CollectionResource.html">CollectionResource</a>). The collection will
be a list of <a href="ApplicationAccountStoreMapping.html">ApplicationAccountStoreMapping</a> objects.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">application.getAccountStoreMappings({ expand: &#x27;accountStore&#x27; }, function(err, accountStoreMappings) {
  if (!err) {
    console.log(accountStoreMappings.items);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getApiKey"><span class="type-signature"></span>getApiKey(apiKeyId, options, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves the specified <a href="ApiKey.html">ApiKey</a> for an Account that may login to the Application
(as determined by the application's mapped account stores). If the API Key does
not correspond to an Account that may login to the application, then a 404
error is provided to the callback.</p>
<p>By default, the <a href="ApiKey.html">ApiKey</a> resource is heavily encrypted. It is encrypted while
in transit from our REST API, and while at rest in the local cache that is
maintained by the SDK. The encryption input is the Tenant Api Key Secret
that was used when the <a href="Client.html">Client Instance</a> was constructed.
The default encryption strength is password-based AES 256 encryption and the
PBKDF2 implementation will use 1024 iterations to derive the AES 256 key.</p>
<p>At the risk of potentially decreased security, you can use the options
argument to specify a lower level of encryption key size, e.g. 192 or 128.
You can also request a lower number of key iterations. This can reduce the
CPU time required to decrypt the key after transit or when retrieving from
cache. It is not recommended to go much lower than 1024 (if at all) in
security sensitive environments.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>apiKeyId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The ID of the <a href="ApiKey.html">ApiKey</a> to search for.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Options for API Key encryption.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>encryptionKeySize</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    256
                
                </td>
            

            <td class="description last"><p>Set to 128 or 192 to change the AES key encryption size.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>encryptionKeyIterations</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1024
                
                </td>
            

            <td class="description last"><p>The number of iterations to use in the PBKDF operation.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The callback that will be called with the parameters (err, <a href="ApiKey.html">ApiKey</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">application.getApiKey(&#x27;xxxxAAAyyBb&#x27;, function(err, apiKey) {
  if (err) {
    console.log(&#x27;Api Key could not be found.&#x27;);
  } else {
    console.log(apiKey);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getGroups"><span class="type-signature"></span>getGroups(collectionQueryOptions, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the groups collection for this Application, which is a list of all
groups that are directly mapped to the application, and all groups that
exist in a directory that is mapped to the application.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collectionQueryOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#CollectionQueryOptions">CollectionQueryOptions</a></span>



            
            </td>

            

            

            <td class="description last"><p>Options for querying, paginating, and expanding the collection. This collection
supports filter searches and the following attribute searches:
<code>name</code>, <code>description</code>, <code>status</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the operation is complete. Will be called
with the parameters (err, <a href="CollectionResource.html">CollectionResource</a>). The collection will
be a list of Group objects.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var query = {
  name: &#x27;admins&#x27;
};

application.getGroups(query, function(err, collection) {
  if (collection &amp;&amp; collection.items.length === 1) {
    console.log(&#x27;Found the admins group, href is: &#x27; + group.href);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getOAuthPolicy"><span class="type-signature"></span>getOAuthPolicy(callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets the OAuth policy of this application. The OAuth policy defines the TTL
settings for the Access Tokens and Refresh Tokens that are issued by this
application's OAuth Token endpoint.</p>
<p>The values must be an <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO8060 Duration Formatted String</a>.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the operation is complete. Will be called with the
parameters (err, <a href="OAuthPolicy.html">OAuthPolicy</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">application.getOAuthPolicy(function (err, oAuthPolicy) {
  // Set the Access Token TTL to 1 hour, and disable Refresh Tokens.
  oAuthPolicy.accessTokenTtl = &#x27;PT1H&#x27;;
  oAuthPolicy.refreshTokenTtl = &#x27;PT0D&#x27;;
  oAuthPolicy.save();
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getSamlPolicy"><span class="type-signature"></span>getSamlPolicy(<span class="optional">getResourceOptions</span>, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the <a href="SamlPolicy.html">SamlPolicy</a> of the application.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>getResourceOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#GetResourceOptions">GetResourceOptions</a></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query options for the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function, will be called with (err, <a href="SamlPolicy.html">samlPolicy</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getTenant"><span class="type-signature"></span>getTenant(<span class="optional">getResourceOptions</span>, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets the Stormpath tenant resource that owns this resource.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>getResourceOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#GetResourceOptions">GetResourceOptions</a></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query options for the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The callback that will be called with the parameters (err, <a href="Tenant.html">Tenant</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="handleIdSiteCallback"><span class="type-signature"></span>handleIdSiteCallback(responseUri, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>This method will parse the JWT result from an ID Site Callback, and give you
an <a href="global.html#IdSiteAuthenticationResult">IdSiteAuthenticationResult</a>, which contains the  <a href="Account.html">Account</a>
object of the account that was authenticated.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>responseUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The URL that the user has arrived on your site with.
For example, <code>http://example.com/idSiteCallback?jwtResponse=xxx</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Will be called with (err, <a href="global.html#IdSiteAuthenticationResult">idSiteAuthenticationResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="resendVerificationEmail"><span class="type-signature"></span>resendVerificationEmail(resendVerificationEmailRequest, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Re-sends the account verification email to the specified account.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resendVerificationEmailRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>login</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The username or email address of the account that you wish to re-send the
verification email to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accountStore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An object that allows you to define an account store for this request.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>href</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The HREF of the account store that you wish to target, for locating the
the account object.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var resendVerificationEmailRequest = {
  login: &#x27;foo@example.com&#x27;
};

application.resendVerificationEmail(resendVerificationEmailRequest, function(err) {
  if (!err) {
    console.log(&#x27;Email re-sent to &#x27; + resendVerificationEmailRequest.login);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="resetPassword"><span class="type-signature"></span>resetPassword(passwordResetToken, newPassword, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets a new password for the user, using the supplied password reset token.
The password reset token will be verified and the
<a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#ref-password-policy">password strength policy</a>
of the account's directory will be enforced.</p>
<p>If this operation is successful, the password reset token will be consumed
and cannot be used again.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The password reset token that was created by <a href="Application.html#sendPasswordResetEmail">Application.sendPasswordResetEmail()</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newPassword</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The new password that the user desires.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var passwordResetToken = &#x27;eyJraWQiOiI0Qk9aM1kyMTg0T0Q5VFJMS..&#x27;; // The token that was created by Application.sendPasswordResetEmail().

var newPassword = &#x27;Pa@ssw0Rd!1;&#x27;; // The new password that the user desires.

application.resetPassword(passwordResetToken, newPassword, function(err) {
  if (err) {
    console.log(err); // Token is invalid, or password is not strong enough.
  } else {
    console.log(&#x27;Password was reset.&#x27;);
  }
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="save"><span class="type-signature"></span>save(callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Save changes to this resource.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The function to call when the save operation is complete. Will be called
with the parameters (err, updatedResource).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">Inherited From:</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="InstanceResource.html#save">InstanceResource#save</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/InstanceResource.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="sendPasswordResetEmail"><span class="type-signature"></span>sendPasswordResetEmail(passwordResetRequest, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sends a password reset email to the account holder. This email will contain
a link with a password reset token. The format of the link is controlled by
the Password Policy of the <a href="Directory.html">Directory</a> that the account is in. For
more information on the email, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/004_accnt_mgmt.html#manage-password-reset-emails">Manage Password Reset Emails</a>.</p>
<p>If you want the raw token (e.g. to manually send your own email with
the token) you can do so by working with the <a href="PasswordResetToken.html">PasswordResetToken</a>
instance that is provided to the callback.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The password reset request object.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The email address of the account that you wish to send a password reset email
to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accountStore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An object that allows you to define an account store for this request.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>href</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>The HREF of the account store that you wish to target, for locating the
the account object.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err, <a href="PasswordResetToken.html">passwordResetToken</a>).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var passwordResetRequest = {
  email: &#x27;foo@example.com&#x27;
};

application.sendPasswordResetEmail(passwordResetRequest, function(err, passwordResetToken) {
  // The token is the last part of the HREF.
  console.log(passwordResetToken.href.split(&#x27;/&#x27;).pop());

  // The account can be retrieved by using the account href on the result.
  client.getAccount(passwordResetToken.account.href, function(err, account) {
    console.log(account);
  });
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="verifyPasswordResetToken"><span class="type-signature"></span>verifyPasswordResetToken(passwordResetToken, callback)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Verifies that the given password reset token is valid and can be used for a
password change request (via <a href="Application.html#resetPassword">Application.resetPassword()</a>).
The token is invalid if it has expired, has already been used, or was not
issued by a Stormpath Application.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The password reset token that was created by <a href="Application.html#sendPasswordResetEmail">Application.sendPasswordResetEmail()</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		resource/Application.js
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var passwordResetToken = &#x27;eyJraWQiOiI0Qk9aM1kyMTg0T0Q5VFJMS..&#x27;; // The token that was created by Application.sendPasswordResetEmail().

application.verifyPasswordResetToken(passwordResetToken, function(err) {
  if (err) {
    console.log(err); // Token is invalid, expired, or already used.
  } else {
    console.log(&#x27;Token is valid.&#x27;);
  }
});</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on 2016-03-23T16:49:48-07:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>